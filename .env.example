# Nuvine - Example Environment Configuration
# Copy to `.env` and adjust values for your environment.

# -----------------------------------------------------------------------------
# Databases (PostgreSQL)
# -----------------------------------------------------------------------------

# AUTH
# DB credentials used by the auth service
AUTH_DB_USER=<type-here-db-user>
AUTH_DB_PASSWORD=<type-here-12-char-password>
AUTH_DB_NAME=auth_db
AUTH_DB_URL=jdbc:postgresql://postgres-auth:5432/auth_db

# WORKSPACE
# DB credentials used by the workspace service
WORKSPACE_DB_USER=<type-here-db-user>
WORKSPACE_DB_PASSWORD=<type-here-12-char-password>
WORKSPACE_DB_NAME=workspace_db
WORKSPACE_DB_URL=jdbc:postgresql://postgres-workspace:5432/workspace_db

# CHAT
# DB credentials used by the chat service
CHAT_DB_USER=<type-here-db-user>
CHAT_DB_PASSWORD=<type-here-12-char-password>
CHAT_DB_NAME=chat_db
CHAT_DB_URL=jdbc:postgresql://postgres-chat:5432/chat_db

# SUBSCRIPTION
# DB credentials used by the subscription service
SUBSCRIPTION_DB_USER=<type-here-db-user>
SUBSCRIPTION_DB_PASSWORD=<type-here-12-char-password>
SUBSCRIPTION_DB_NAME=subscription_db
SUBSCRIPTION_DB_URL=jdbc:postgresql://postgres-subscription:5432/subscription_db

# INGESTION
# DB credentials used by the ingestion service
INGESTION_DB_USER=<type-here-db-user>
INGESTION_DB_PASSWORD=<type-here-12-char-password>
INGESTION_DB_NAME=ingestion_db
INGESTION_DB_URL=jdbc:postgresql://postgres-ingestion:5432/ingestion_db

# LLM ROUTER
# DB credentials used by the llm-router service
LLM_ROUTER_DB_USER=<type-here-db-user>
LLM_ROUTER_DB_PASSWORD=<type-here-12-char-password>
LLM_ROUTER_DB_NAME=llm_router_db
LLM_ROUTER_DB_URL=jdbc:postgresql://postgres-llm-router:5432/llm_router_db

# VECTOR
# DB credentials used by the vector service
VECTOR_DB_USER=<type-here-db-user>
VECTOR_DB_PASSWORD=<type-here-12-char-password>
VECTOR_DB_NAME=vector_db
VECTOR_DB_URL=jdbc:postgresql://postgres-vector:5432/vector_db

# -----------------------------------------------------------------------------
# Databases (MongoDB)
# -----------------------------------------------------------------------------

# NOTIFICATION
# MongoDB credentials used by the notification service
NOTIFICATION_MONGO_USER=<type-here-mongo-user>
NOTIFICATION_MONGO_PASSWORD=<type-here-12-char-password>
NOTIFICATION_MONGO_DB=notification_db
NOTIFICATION_MONGO_HOST=mongodb-notification
NOTIFICATION_MONGO_ADMIN_DB=admin

# -----------------------------------------------------------------------------
# Keycloak
# -----------------------------------------------------------------------------

KC_ADMIN_USERNAME=admin
KC_ADMIN_PASSWORD=<type-here-12-char-password>

KC_DB=postgres
KC_DB_USERNAME=<type-here-db-user>
KC_DB_PASSWORD=<type-here-12-char-password>
KC_DB_URL_HOST=postgres-keycloak
KC_DB_URL_DATABASE=keycloak

KEYCLOAK_URL=http://keycloak:8080
KEYCLOAK_REALM=nuvine
KEYCLOAK_CLIENT_ID=nuvine-app
# Generate a strong secret (recommended): `openssl rand -base64 32`
KEYCLOAK_CLIENT_SECRET=<type-here-32+char-secret>

# -----------------------------------------------------------------------------
# Qdrant
# -----------------------------------------------------------------------------

QDRANT_HOST=qdrant

# -----------------------------------------------------------------------------
# Kafka
# -----------------------------------------------------------------------------

KAFKA_HOST=kafka:9092

# -----------------------------------------------------------------------------
# Notification Mail
# -----------------------------------------------------------------------------

NOTIF_MAIL_HOST=smtp.resend.com
NOTIF_MAIL_PORT=587
NOTIF_MAIL_SENDER=hi@nuvine.org
NOTIF_MAIL_USERNAME=resend
# SMTP password / API key (provider-specific)
NOTIF_MAIL_PASSWORD=<type-here-smtp-password>

# -----------------------------------------------------------------------------
# Service Secrets (Keycloak client credentials)
# -----------------------------------------------------------------------------

# WORKSPACE
# Must match the secret in `infra/keycloak/nuvine-keycloak.json`
KEYCLOAK_WORKSPACE_SERVICE_SECRET=<type-here-32+char-secret>

# FILE STORAGE
# Must match the secret in `infra/keycloak/nuvine-keycloak.json`
KEYCLOAK_FILE_STORAGE_SERVICE_SECRET=<type-here-32+char-secret>

# INGESTION
# Must match the secret in `infra/keycloak/nuvine-keycloak.json`
KEYCLOAK_INGESTION_SERVICE_SECRET=<type-here-32+char-secret>

# CHAT
# Must match the secret in `infra/keycloak/nuvine-keycloak.json`
KEYCLOAK_CHAT_SERVICE_SECRET=<type-here-32+char-secret>

# SUBSCRIPTION
# Must match the secret in `infra/keycloak/nuvine-keycloak.json`
KEYCLOAK_SUBSCRIPTION_SERVICE_SECRET=<type-here-32+char-secret>

# -----------------------------------------------------------------------------
# MinIO
# -----------------------------------------------------------------------------

MINIO_BUCKET_NAME=nuvine
MINIO_INTERNAL_URL=http://minio:9000
MINIO_EXTERNAL_URL=http://localhost:9000
MINIO_ACCESS_NAME=<type-here-minio-access-key>
MINIO_ACCESS_SECRET=<type-here-minio-secret-key>
MINIO_WEBHOOK_SECRET=<type-here-32+char-secret>

# -----------------------------------------------------------------------------
# LLM Router
# -----------------------------------------------------------------------------

OPENAI_API_KEY=<type-here-openai-key>
OPENROUTER_API_KEY=<type-here-openrouter-key>

# -----------------------------------------------------------------------------
# Frontend
# -----------------------------------------------------------------------------

FRONTEND_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# Stripe
# -----------------------------------------------------------------------------

STRIPE_API_KEY=<type-here-stripe-key>
STRIPE_WEBHOOK_SECRET=<type-here-stripe-webhook-secret>
STRIPE_SUCCESS_URL=http://localhost:3000
STRIPE_CANCEL_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------

REDIS_PASSWORD=<type-here-12-char-password>
